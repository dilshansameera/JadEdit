(function(){function b(f,e){if(!window.jQuery){var a=document.createElement("script");a.type="text/javascript";if(a.readyState){a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete"){a.onreadystatechange=null;e()}}}else{a.onload=function(){e()}}a.src=f;document.getElementsByTagName("head")[0].appendChild(a)}else{e()}}b("https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",function(){var e=(function(){var k={};k.tabCounter=function(m){for(var l=0;l<m.length;l++){if(m[l]!="\t"){return l}}};k.trimStart=function(l){return l.replace(/^( |\t)+/,"")};k.createCodeElement=function(l,n){var m=document.createElement("code");m.setAttribute("class",l);if(m.innerText==undefined){m.textContent=n}else{m.innerText=n}return m.outerHTML};return k}());var j=(function(m){var l={};l.process=function(s,p){var u=p[s];if(u.length<1){return{processedLine:"",newLocation:s}}var t="";var w=m.tabCounter(u);u=m.trimStart(u);var o=u[0]=="|";var r=u.indexOf(" ");if(r==-1){r=u.length}var q=u.substring(0,r);t+=m.trimStart(u.substring(r,u.length));while(s+1<p.length&&(w+1)==m.tabCounter(p[s+1])){s++;var v=this.process(s,p);t+=v.processedLine;s=v.newLocation}return{processedLine:n(q,t,o),newLocation:s}};function n(q,r,p){var o=k(m.trimStart(q));if(o.withoutAttribute==="pre"){if(!p){return"<"+o.withAttribute+">"+r+"</"+o.withoutAttribute+">"}else{return r}}if(o.withoutAttribute!=="br"&&o.withoutAttribute!=="pre"){if(!p){return"<"+o.withAttribute+">"+r+"</"+o.withoutAttribute+">\n"}else{return r+"\n"}}if(!p){return"<"+o.withAttribute+"/>"+r+"\n"}else{return r+"\n"}}function k(q){var r="";var o="";for(var p=0;p<q.length;p++){if(q[p]=="."){r+=" class='";p++;while(q[p]!="."&&q[p]!="#"&&p<q.length){r+=q[p];p++}if(q[p]=="."||q[p]=="#"){p--}r+="'"}else{if(q[p]=="#"){r+=" id='";p++;while(q[p]!="."&&q[p]!="#"&&p<q.length){r+=q[p];p++}if(q[p]=="."||q[p]=="#"){p--}r+="'"}else{if(q[p]=="("){while(q[p]!=")"&&p<q.length){}}else{r+=q[p];o+=q[p]}}}}return{withAttribute:r,withoutAttribute:o}}return l}(e));var i=(function(l){var k={};k.process=function(){return""};return k}(e));var g=(function(){var l={};var k={html:i,jade:j};k.setCurrentProcessor=function(m){if(m==="html"){l=k.html}else{if(m==="jade"){l=k.jade}}};k.process=function(q){var n="";var p=q.split("\n");for(var o=0;o<p.length;o++){var m=l.process(o,p);n+=m.processedLine;o=m.newLocation}return n};return k}());var a=(function(k){var l={};l.highlight=function(s,q){var n=q[s];if(n.length>1&&s==q.length){return{processedLine:"",newLocation:s}}var m="";var r="";var p=n.indexOf(" ");if(p==-1){p=n.length}var o=n.substring(0,p+1);if(s!=0){m+="<br/>"}m+=k.createCodeElement("keyword",o);m+=n.substring(p+1,n.length);return{processedLine:m,newLocation:s}};return l}(e));var f=(function(l){var k=/(?!<)[A-Za-z'" =\d:]+(?=(>|\/>))/gi;var n={attribute:/(\s)+(class|id|href|type|rel|accesskey|hidden|required|style) ?(?=(=))/i,string:/(?![=](\s)+)['|"](.*?)['|"]/};var m={};m.highlight=function(s,o){var w=o[s];var u=w.match(k);var y="";if(u!=null){for(var r=0;r<u.length;r++){var p=w.substring(0,w.indexOf(u[r]));if(p.length>0){p=l.createCodeElement("plain",p)}y+=p;var x=u[r];while(n.attribute.test(x)||n.string.test(x)){for(var v in n){if(n[v].test(x)){var q=n[v].exec(x);var t=q.index;if(x.substring(0,t)!="="){y+=l.createCodeElement("keyword",x.substring(0,t))}else{y+=l.createCodeElement("plain",x.substring(0,t))}y+=l.createCodeElement(v,q[0]);x=x.substring(t+q[0].length,x.length)}}}y+=l.createCodeElement("keyword",x);w=w.substring(w.indexOf(u[r])+u[r].length,w.length)}if(w.length!=0){y+=l.createCodeElement("plain",w)}}else{y+=l.createCodeElement("plain",w)}return{processedLine:y+"\n",newLocation:s}};return m}(e));var d=(function(){var l={};var k={html:f,jade:a};k.setCurrentHighlighter=function(m){if(m==="html"){l=k.html}else{if(m==="jade"){l=k.jade}}};k.highlight=function(q){var n="";var p=q.split("\n");for(var o=0;o<p.length;o++){var m=l.highlight(o,p);n+=m.processedLine;o=m.newLocation}return n};return k}());var c=(function(k,m){var l={};l.getEditorTemplate=function(n){return"<div id='jadedit-container'><div id='jadedit-button-controls'><div id='jadedit-editor-button' class='chosen'>Editor</div><div id='jadedit-source-button'>Source</div><div id='jadedit-preview-button'>Preview</div></div><div id='jadedit-editor-container'><div id='jadedit-editor-view'><div id='jadedit-highlight-overlay'><span spellcheck='false'></span></div><div id='jadedit-caret-overlay'><span spellcheck='false'></span></div><div id='jadedit-caret'></div><textarea id='jadedit-editor' spellcheck='false'></textarea></div><div id='jadedit-source-view' style='display: none;'></div><div id='jadedit-preview-view' style='display: none;'></div><input type='hidden' id='jadedit-hidden' name='"+n+"' /></div></div>"};l.registerEditorEvents=function(n){n.$editorButton.click(function(){n.$previewView.hide();n.$editorView.show();n.$sourceView.hide();n.$editorButton.addClass("chosen");n.$previewButton.removeClass("chosen");n.$sourceButton.removeClass("chosen")});n.$previewButton.click(function(){n.$previewView.show();n.$editorView.hide();n.$sourceView.hide();n.$editorButton.removeClass("chosen");n.$previewButton.addClass("chosen");n.$sourceButton.removeClass("chosen");k.setCurrentProcessor("jade");var o=k.process(n.$editor.val());n.$previewView.html(o)});n.$sourceButton.click(function(){n.$previewView.hide();n.$editorView.hide();n.$sourceView.show();n.$editorButton.removeClass("chosen");n.$previewButton.removeClass("chosen");n.$sourceButton.addClass("chosen");m.setCurrentHighlighter("html");k.setCurrentProcessor("jade");var o=k.process(n.$editor.val());n.$sourceView.html(m.highlight(o))})};l.registerCaretEvents=function(o){var s=0;o.$editor.on("input keydown keyup propertychange click paste cut copy mousedown mouseup change",function(){clearTimeout(s);s=setTimeout(r,10)});o.$editor.keydown(function(u){if(u.keyCode===9){var v=this.value,w=this.selectionStart,t=this.selectionEnd;this.value=v.substring(0,w)+"\t"+v.substring(t);this.selectionStart=this.selectionEnd=w+1;return false}});function r(){m.setCurrentHighlighter("jade");o.highlightOverlay.innerHTML=m.highlight(o.$editor.val());o.caretOverlay.innerHTML=o.$editor.val().substring(0,p(o.$editor[0])).replace(/\n$/,"\n\u0001");n(o.caretOverlay,o.$editor[0],o.$caret[0],q(o.$editor));o.$caret.fadeIn(500).fadeOut(500).fadeIn(500);setInterval(function(){o.$caret.fadeIn(500).fadeOut(500).fadeIn(500)},3000)}function p(u){if(u.selectionStart){return u.selectionStart}else{if(document.selection){var v=document.selection.createRange();if(v==null){return 0}var t=u.createTextRange(),w=t.duplicate();t.moveToBookmark(v.getBookmark());w.setEndPoint("EndToStart",t);return w.text.length}}return 0}function n(w,z,B,A){var u=w.getClientRects();var v=u[u.length-1];var t=v.left+v.width-A[0]+document.documentElement.scrollLeft,C=v.top-z.scrollTop-A[1]+document.documentElement.scrollTop;if(t==0&&C==0){t=10;C=10}B.style.cssText="top: "+C+"px; left: "+t+"px"}function q(u){var v=u[0];var t=0;var w=0;while(v.offsetParent!==null){t+=v.offsetLeft;w+=v.offsetTop;v=v.offsetParent}return[t,w]}};return l}(g,d));(function h(m){var l=$("#jadedit");if(!l.length&&!l.attr("name").length){document.write("invalid config")}l.html(m.getEditorTemplate(l.attr("name")));var k={$editorButton:$("#jadedit-editor-button"),$previewButton:$("#jadedit-preview-button"),$sourceButton:$("#jadedit-source-button"),$editorView:$("#jadedit-editor-view"),$editor:$("#jadedit-editor"),highlightOverlay:$("#jadedit-highlight-overlay")[0].firstChild,caretOverlay:$("#jadedit-caret-overlay")[0].firstChild,$caret:$("#jadedit-caret"),$sourceView:$("#jadedit-source-view"),$previewView:$("#jadedit-preview-view"),$hidden:$("#jadedit-hidden")};m.registerCaretEvents(k);m.registerEditorEvents(k)}(c))})})();